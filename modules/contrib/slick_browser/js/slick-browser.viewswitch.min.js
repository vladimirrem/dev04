!function(a,b){"use strict";function c(b,c){function l(){var b=a(".view-content",f);if(f.find(".grid").length&&!a(".view-list--header",f).length){var c=j.find(".grid:first .grid__content"),d=c.clone();d.detach().insertBefore(b),d.wrapAll('<div class="view-list view-list--header grid" />').once(),d.find(".views-field").each(function(){var b=a(this),c=b.find(".views-label").text();b.empty().text(c)})}}function m(b){b.preventDefault();var c=a(b.currentTarget),e=c.data("target"),f=a(".view--sb");c.closest(".button-group").find(".button").removeClass("is-active"),c.addClass("is-active"),e&&f.length&&(a(".is-info-active").removeClass("is-info-active"),f.removeClass("view--sb-grid view--sb-list"),f.addClass("view--sb-"+e),f.find(".sb__grid").attr("class","list"===e?"sb__grid":d.data("classes")))}var d=a(c),e=d.closest(".form--sb"),f=e.length?e:d.closest(".view"),g=a(".sb__header"),h=f.find(".slick:first"),i=h.length&&a(".slick__slider",h).hasClass("slick-initialized"),j=f.find(".sb__grid:first"),k=j.attr("class");d.data("classes",k),l(),g.length&&(g.find(".sb__viewswitch, .slick__arrow").remove(),d.addClass("sb__viewswitch--header").appendTo(g),i&&h.find(".slick__arrow").prependTo(".sb__viewswitch--header")),a(".button",c).on("click.sbSwitch",m),a("#sb-viewswitch",f).find(".button--view.is-active").click()}b.behaviors.slickBrowserViewSwitch={attach:function(b){a(b).find(".sb__viewswitch").once("sbViewSwitch").each(c)},detach:function(b,c,d){"unload"===d&&a(b).find(".sb__viewswitch").removeOnce("sbViewSwitch")}}}(jQuery,Drupal);
